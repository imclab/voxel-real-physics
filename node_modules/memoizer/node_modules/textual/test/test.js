var textual = require('../index');
var fn1 = function() {};
var fn2 = function(x,y,z) {};
function fn3() {};
function fn4(x,y,z) {};

exports.test_getArguments = function(test) {
	test.expect(4);
	test.deepEqual([],textual.getArgs(fn1));
	test.deepEqual(['x','y','z'],textual.getArgs(fn2));
	test.deepEqual([],textual.getArgs(fn3));
	test.deepEqual(['x','y','z'],textual.getArgs(fn4));
	test.done();
};

exports.test_misc = function (test) {
	test.expect(4);
	test.equal('x', textual.getFirstArg(fn2));
	test.equal('z', textual.getLastArg(fn2));
	test.equal('x', textual.getFirstArg(fn4));
	test.equal('z', textual.getLastArg(fn4));
	test.done();
};

var fn5 = function (a, b, c) {
	var bar = a + b;
	c.kabam();
	c.pow();
	c.bop();
};

exports.test_doesObjectCallMethod = function(test) {
	test.expect(2);
	test.equal(true, textual.doesObjectCallMethod(fn5, 'c', 'bop'));
	test.notEqual(true, textual.doesObjectCallMethod(fn5, 'c', 'crash'));
	test.done();
};
