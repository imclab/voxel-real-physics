var getArgs = function(fn) {
	var fnstr = fn.toString();
	var args = fnstr.match(/function\s*\((.*?)\)\s*{/);
	if (args === null) {
		args = fnstr.match(/function\s*[a-zA-Z_$][0-9a-zA-Z_$]*\s*\((.*?)\)\s*{/);
	}
	if (args !== null) {
		if ((args[1] !== undefined) && (args[1] != '')) {
			var argstr = args[1];
			return argstr.split(',').map(function(val){return val.trim()});
		} else {
			return [];
		}
	} else {
		return undefined;
	}
};
var getLastArg = function(fn) {
	var args = getArgs(fn);
	return args.slice(-1);
};
var getFirstArg = function(fn) {
	var args = getArgs(fn);
	return args.slice(0,1);
};
exports.getArgs = getArgs;
exports.getLastArg = getLastArg;
exports.getFirstArg = getFirstArg;
exports.doesObjectCallMethod = function(fn,objstr,methodstr) {
	var fnstr = fn.toString();
	// we check here because there objstr is usually
	// set from getLastArg which may return undefined
	// on a function () with no params
	if (objstr === undefined) { return false; }
	var index = fnstr.indexOf(objstr + '.' + methodstr);
	if (index > 0) {
		return true;
	}
	return false;
};
